<div class="post-container">
  <div class="post-header">
    <a (click)="goToUserProfile()" class="post-username">{{ post.username }}</a>
    <br>
    <div class="post-date">{{ formattedDate }}</div>
    <div class="post-tag">{{ getTranslatedTag(post.tag) }}</div>
    <div *ngIf="currentUser?.uid === post.uid || role === 'admin'" class="del-button">
      <img src="../../assets/trash.webp" alt="" (click)="deletePost(post.id)">
    </div>
    
  </div>
  <div class="post-body">{{ post.body }}</div>

  <!-- kommentek -->
  <div *ngFor="let comment of comments" class="comments">
    <app-forum-comment *ngIf="comment" [comment]="comment" (commentDeleted)="onCommentDeleted($event)"></app-forum-comment>
  </div>

  <div class="interaction-bar">
    <div class="like-section">
      <img [src]="liked ? 'assets/heart-2.webp' : 'assets/heart-1.webp'" (click)="like()" class="like-icon" loading="lazy" />
      <span>{{ likeCount }}</span>
    </div>

    <div class="comment-section">
      <img src="assets/chat.webp" class="like-icon" loading="lazy"/>
      <span>{{ commentCount }}</span>
    </div>
  </div>

  <div class="add-comment">
    <input type="text" [(ngModel)]="commentBody">
    <button (click)="addComment()">{{ 'postcomment' | i18next }}</button>
  </div>
</div>
